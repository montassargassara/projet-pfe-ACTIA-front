<mat-toolbar class="mat-elevation-z3">
  <mat-toolbar-row>
    <!-- Utilisez une expression conditionnelle pour changer l'icône en fonction de l'état de la barre latérale -->
    <button mat-icon-button (click)="toggleMenu()">
      <mat-icon>{{ isCollapsed ? 'menu' : 'close' }}</mat-icon>
    </button>
    <span>ACTIA</span>

    <div fxFlex fxLayout="row" fxLayoutAlign="flex-end">
      <ul fxLayout="row" fxLayoutGap="20px">
        <li>
          <button mat-icon-button>
            <mat-icon>settings</mat-icon>
          </button>
        </li>
        <li>
          <button mat-icon-button>
            <mat-icon>help_outline</mat-icon>
          </button>
        </li>
        <li>
          <button mat-icon-button [matMenuTriggerFor]="menu">
            <mat-icon>person_outline</mat-icon>
          </button>
          <mat-menu #menu="matMenu">
            <button mat-menu-item *ngIf="!isLoggedIn" routerLink="register">
              Sign Up
            </button>
            <button mat-menu-item *ngIf="!isLoggedIn" routerLink="login">
              Login
            </button>
            <button mat-menu-item *ngIf="isLoggedIn" routerLink="profile">
              {{ username }}
            </button>
            <button mat-menu-item *ngIf="isLoggedIn" (click)="logout()">
              LogOut
            </button>
          </mat-menu>
        </li>
      </ul>
    </div>
  </mat-toolbar-row>
</mat-toolbar>
<mat-sidenav-container>
  <mat-sidenav opened [mode]="isCollapsed ? 'side' : 'over'" [style.width]="isCollapsed ? '65px' : '250px'" [ngClass]="!isCollapsed ? 'expanded' : ''" >
    <app-custom-sidenav [isCollapsed]="isCollapsed"></app-custom-sidenav>
  </mat-sidenav>
  <mat-sidenav-content class="content" [style.margin-left]="isCollapsed ? '65px' : '250px'" >
    <div class="sidenav-header">
      <router-outlet></router-outlet>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
